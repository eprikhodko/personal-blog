---
title: "Компоненты высшего порядка в React"
date: "2022-01-07"
hero_image: ""
hero_image_alt: "A jeep in dunes"
---

```jsx file=src/pages/index.js
// Step 1: Import React
import * as React from "react"

// Step 2: Define your component
const IndexPage = () => {
  return (
    <>
      <main>
        <title>Home Page</title>
        <h1>Welcome to my Gatsby site!</h1>
        <p>I'm making this by following the Gatsby Tutorial.</p>
      </main>

      <GridContainer>
        <Container>
          <GlobalStyle />
          <title>
            {pageTitle} | {data.site.siteMetadata.title}
          </title>
          <Header>
            <StyledLink to="/">{data.site.siteMetadata.title}</StyledLink>
          </Header>
          <nav>
            <NavLinks>
              <NavLinkItem>
                <NavLink to="/">Home</NavLink>
              </NavLinkItem>
              <NavLinkItem>
                <NavLink to="/blog">Blog</NavLink>
              </NavLinkItem>
            </NavLinks>
          </nav>
          <main>
            <Heading>{pageTitle}</Heading>
            {children}
          </main>
        </Container>
      </GridContainer>
    </>
  )
}

// Step 3: Export your component
export default IndexPage
```

```js file=src/pages/Menu.js
import { useState } from "react"

function Menu() {
  const [showMenu, setShowMenu] = useState(true)

  const toggleShow = () => setShowMenu((prevState) => !prevState)

  return (
    <div>
      <button type="button" onClick={toggleShow} style={{ cursor: "pointer" }}>
        {showMenu ? "Hide" : "Show"} Menu
      </button>
      <nav style={{ display: showMenu ? "block" : "none" }}>
        <h6>Signed in as Coder123</h6>
        <a>Your Repositories</a>
        <a> - Your Profile </a>
        <a> - Your Stars </a>
        <a> - Your Gists </a>
      </nav>
    </div>
  )
}

export default Menu
```

_Очень коротко, что можно рассказать про HOC, не прибегая к коду, своими словами?_

- Higher-Order Components (Компоненты высшего порядка, HOC) позволяют повторно использовать код компонентов.
- Компонент высшего порядка представляет собой функцию, которая принимает компонент, как аргумент, затем преобразует этот компонент в другой компонент, наделяя его какими либо новыми способностями, и затем возвращает новый компонент.

Вот скажем, есть у нас два компонента, которые используют похожую логику. Представим, что это две кнопки. Одна кнопка показывает или скрывает при нажатии меню, а другая кнопка ставит, или снимает лайк. У этих двух компонентов похожий стейт. Этот стейт представляет собой boolean, значение которого может быть или false, или true. И есть у этих двух компонентов функция, которая вызывается при нажатии на кнопку, и меняет стейт или на false, или на true, в зависимости от того, какой стейт был до этого. Как можно удалить эту логику из этих двух компонентов, и использовать ее повторно? В этом нам поможет компонент высшего порядка. Этот компонент представляет собой функцию, которая принимает какой либо компонент как аргумент.

```js file=fancy-button.js
const EnhancedComponent = higherOrderComponent(WrappedComponent)
```

В этой статье мы разберем, чем полезны компоненты высшего порядка, и как их создавать.

Идея компонентов высшего порядка берет свое начало из концепта функций высшего порядка (Higher-Order functions). <br />
Функция высшего порядка - это функция, которая принимает другую функцию как аргумент. Часто этот аргумент называется коллбэком (обратный вызов, callback) и он вызывается после совершения каких то других действий.

Пример функций высшего порядка - это некоторые методы массивов, такие как .filter(), .map(), .reduce(). Разница между этими тремя методами и другими методами, такими как .pop(), .push(), или .shift() заключается в том, что filter, map и reduce, принимают функции как аргументы.

Так вот, компонент высшего порядка в React - это функция, которая принимает какой то другой компонент, и возвращает новый компонент, и предоставляет ему какие то новые дополнительные возможности.

```js
const EnhancedComponent = higherOrderComponent(WrappedComponent)
```

вопросы для самопроверки:
